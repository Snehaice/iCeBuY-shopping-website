<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login | Signup</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <style>
    /* -------------------- Global -------------------- */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #121212;
      color: #e0e0e0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    h2 {
      margin-bottom: 20px;
      font-size: 2rem;
      text-align: center;
    }

    /* -------------------- Container -------------------- */
    .auth-container {
      background-color: #1e1e1e;
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.7);
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 400px;
    }

    /* -------------------- Inputs -------------------- */
    input {
      width: 100%;
      padding: 12px 15px;
      margin: 10px 0;
      border-radius: 8px;
      border: none;
      background-color: #2a2a2a;
      color: #fff;
      font-size: 1rem;
      outline: none;
      transition: 0.3s;
    }

    input:focus {
      background-color: #333;
      box-shadow: 0 0 5px #ff6b6b;
    }

    /* -------------------- Buttons -------------------- */
    button {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      background-color: #ff6b6b;
      color: #fff;
      transition: background-color 0.3s, transform 0.2s;
    }

    button:hover {
      background-color: #ff4b4b;
      transform: translateY(-2px);
    }

    .back-btn {
      background-color: #555;
      margin-bottom: 20px;
    }

    .back-btn:hover {
      background-color: #777;
    }

    /* -------------------- Responsive -------------------- */
    @media (max-width: 480px) {
      .auth-container {
        margin: 20px;
        padding: 20px;
      }
    }
  </style>
</head>
<body>

<header class="header">
  <h2>MyStore</h2>
</header>

<div class="auth-container">

  <!-- LOGIN FORM -->
  <form id="loginForm" class="auth-form active">
    <h2>Login</h2>

    <input type="email" id="loginEmail" placeholder="Email" required>

    <div class="password-box">
      <input type="password" id="loginPassword" placeholder="Password" required>
      <span onclick="togglePassword('loginPassword')">üëÅ</span>
    </div>

    <a href="#" class="forgot" onclick="forgotPassword()">Forgot Password?</a>

    <button type="submit">Login</button>

    <p>Don't have an account?
      <span class="link" onclick="switchForm()">Sign Up</span>
    </p>
  </form>

  <!-- SIGNUP FORM -->
  <form id="signupForm" class="auth-form">
    <h2>Sign Up</h2>

    <input type="text" id="name" placeholder="Full Name" required>
    <input type="email" id="signupEmail" placeholder="Email" required>

    <div class="password-box">
      <input type="password" id="signupPassword" placeholder="Password" required>
      <span onclick="togglePassword('signupPassword')">üëÅ</span>
    </div>

    <input type="password" id="confirmPassword" placeholder="Confirm Password" required>

    <small id="passwordMsg"></small>

    <button type="submit">Create Account</button>

    <p>Already have an account?
      <span class="link" onclick="switchForm()">Login</span>
    </p>
  </form>

</div>
    

    <script src="./scripts/auth.js"></script>

<!-- üî• Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<script>
/* ================= FIREBASE INIT ================= */
firebase.initializeApp({
  apiKey: "AIzaSyCUCrSFMHE84RidHnrt4wdoYvCO6nTBx18",
  authDomain: "website-91379.firebaseapp.com",
  projectId: "website-91379"
});

const auth = firebase.auth();

/* ================= SWITCH FORMS ================= */
function switchForm() {
  loginForm.classList.toggle("active");
  signupForm.classList.toggle("active");
}

/* ================= TOGGLE PASSWORD ================= */
function togglePassword(id) {
  const input = document.getElementById(id);
  input.type = input.type === "password" ? "text" : "password";
}

/* ================= LOGIN ================= */
loginForm.addEventListener("submit", e => {
  e.preventDefault();

  auth.signInWithEmailAndPassword(
    loginEmail.value,
    loginPassword.value
  )
  .then(() => {
    alert("Login successful");
    window.location.href = "index.html";
  })
  .catch(err => alert(err.message));
});

/* ================= SIGNUP ================= */
signupForm.addEventListener("submit", e => {
  e.preventDefault();

  if (signupPassword.value !== confirmPassword.value) {
    passwordMsg.innerText = "Passwords do not match";
    passwordMsg.style.color = "red";
    return;
  }

  auth.createUserWithEmailAndPassword(
    signupEmail.value,
    signupPassword.value
  )
  .then(() => {
    alert("Account created successfully");
    window.location.href = "index.html";
  })
  .catch(err => alert(err.message));
});

/* ================= FORGOT PASSWORD ================= */
function forgotPassword() {
  if (!loginEmail.value) {
    alert("Enter email first");
    return;
  }

  auth.sendPasswordResetEmail(loginEmail.value)
    .then(() => alert("Password reset email sent"))
    .catch(err => alert(err.message));
}
</script>


<!-- üîΩ Firebase SDK üîΩ -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCUCrSFMHE84RidHnrt4wdoYvCO6nTBx18",
      authDomain: "website-91379.firebaseapp.com",
      projectId: "website-91379",
      storageBucket: "website-91379.appspot.com",
      messagingSenderId: "798560722536",
      appId: "1:798560722536:web:dfe8049c7631d058e8e5dd"
    };

    firebase.initializeApp(firebaseConfig);

    function login() {
      firebase.auth()
        .signInWithEmailAndPassword(
          document.getElementById("email").value,
          document.getElementById("password").value
        )
        .then(() => window.location.href = "index.html")
        .catch(err => alert(err.message));
    }
  </script>


</body>
</html>
